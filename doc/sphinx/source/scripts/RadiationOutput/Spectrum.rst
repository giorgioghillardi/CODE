
.. _module-ro-spectrum:

(spectrum)
**********
The @RadiationOutput module for simulating spectrometers.

Summary of options
^^^^^^^^^^^^^^^^^^

+---------------------------------------------+----------------------------------------------------------+
| **Option**                                  | **Description**                                          |
+---------------------------------------------+----------------------------------------------------------+
| :option:`@RadiationOutput(spectrum) common` | List of common quantities to include in the output file. |
+---------------------------------------------+----------------------------------------------------------+
| :option:`@RadiationOutput(spectrum) output` | Name of the output file to generate.                     |
+---------------------------------------------+----------------------------------------------------------+

Example configuration
^^^^^^^^^^^^^^^^^^^^^
The following example shows how to configure this module::

   @RadiationOutput ourSpectrum (spectrum) {
       output = "ourSpectrum.h5";
   }

Output file structure
^^^^^^^^^^^^^^^^^^^^^
Output files generated by this module contain the following variables:

+-----------------+-----------------------------------------------------------------------------------+
| **Variable**    | **Description**                                                                   |
+-----------------+-----------------------------------------------------------------------------------+
| ``I``           | Full spectrum (also known as Stokes :math:`I` parameter).                         |
+-----------------+-----------------------------------------------------------------------------------+
| ``Q``           | Spectrum corresponding to Stokes :math:`Q` parameter.                             |
+-----------------+-----------------------------------------------------------------------------------+
| ``U``           | Spectrum corresponding to Stokes :math:`U` parameter.                             |
+-----------------+-----------------------------------------------------------------------------------+
| ``V``           | Spectrum corresponding to Stokes :math:`V` parameter.                             |
+-----------------+-----------------------------------------------------------------------------------+
| ``wavelengths`` | List of wavelengths/photon energies corresponding to each element in the spectra. |
+-----------------+-----------------------------------------------------------------------------------+

.. note::

   The name ``wavelengths`` is a bit misleading, as the values have the meaning
   of photon energies (normalized to :math:`m_e c^2`, the electron rest energy)
   when simulating bremsstrahlung.

.. note::

   For synchrotron radiation, the unit of the wavelengths array is *meters*.

Common quantities
-----------------
By default, no common quantities are included with output generated by this
module. To add common quantities, use the
:option:`@RadiationOutput(spectrum) common` option.

All options
^^^^^^^^^^^

.. program:: @RadiationOutput(spectrum)

.. option:: common

   :Default value: ``none``
   :Allowed values: See the list on :ref:`module-radiationoutput`.

   Specifies which "common quantities" to include in the output file. A full
   list of possible options is given on :ref:`module-radiationoutput`.

.. option:: output

   :Default value: Nothing
   :Allowed values: Any valid file name.

   Specifies the name of the output file to generate. The file name extension
   determines the type of the output file.

