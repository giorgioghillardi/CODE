.. _module-ro-sovvolume:

(sovvolume)
***********
The @RadiationOutput module for calculating the volume of the
surface-of-visibility. The volume of the surface-of-visibility depends on a
number of factors, including the magnetic field geometry and the detector
aperture size.

Summary of options
^^^^^^^^^^^^^^^^^^

+----------------------------------------------+--------------------------------------+
| **Option**                                   | **Description**                      |
+----------------------------------------------+--------------------------------------+
| :option:`@RadiationOutput(sovvolume) output` | Name of the output file to generate. |
+----------------------------------------------+--------------------------------------+

Example configuration
^^^^^^^^^^^^^^^^^^^^^
The following example shows how to configure this module::

   @RadiationOutput ourVolume (sovvolume) {
       output = "ourVolume.h5";
   }

Output file structure
^^^^^^^^^^^^^^^^^^^^^
Output files generated by this module contain the following variables:

+-----------------+-----------------------------------------------------------------------------------+
| **Variable**    | **Description**                                                                   |
+-----------------+-----------------------------------------------------------------------------------+
| ``volumearray`` | An :math:`1\times n_{p_1}n_{p_2}` array containing the volume for each SoV.       |
+-----------------+-----------------------------------------------------------------------------------+
| ``param1``      | Array containing values of first momentum parameter.                              |
+-----------------+-----------------------------------------------------------------------------------+
| ``param2``      | Array containing values of second momentum parameter.                             |
+-----------------+-----------------------------------------------------------------------------------+
| ``param1name``  | Name of first momentum parameter.                                                 |
+-----------------+-----------------------------------------------------------------------------------+
| ``param2name``  | Name of second momentum parameter.                                                |
+-----------------+-----------------------------------------------------------------------------------+

The ``volumearray`` variable should be reshaped before use to the appropriate
format. In Matlab, do::

    np1 = length(param1);
    np2 = length(param2);

    volumes = reshape(volumearray, [np2, np1]);

In Python, do::
    
    import numpy as np

    np1, np2 = param1.size, param2.size

    volumes = np.reshape(volumearray, (np1, np2))

All options
^^^^^^^^^^^

.. program:: @RadiationOutput(sovvolume)

.. option:: output

   :Default value: Nothing
   :Allowed values: Any valid file name.

   Specifies the name of the output file to generate. The file name extension
   determines the type of the output file.

